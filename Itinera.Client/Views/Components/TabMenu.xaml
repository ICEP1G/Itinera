<?xml version="1.0" encoding="utf-8" ?>
<ContentView xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:toolkit="clr-namespace:CommunityToolkit.Maui.Behaviors;assembly=CommunityToolkit.Maui"
             xmlns:components="clr-namespace:Itinera.Client.Views.Components"
             x:Class="Itinera.Client.Views.Components.TabMenu"
             x:Name="TabMenuComponent">


    <ContentView.Content>
        <Grid
            HeightRequest="38"
            Margin="16"
            VerticalOptions="Center" 
            HorizontalOptions="FillAndExpand">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>

            <Border x:Name="FirstTabBorder" Grid.Column="0"
                StrokeShape="RoundRectangle 6"
                StrokeThickness="0"
                Padding="12, 0"
                BackgroundColor="{Binding FirstTabBorderBackgroundColor}"
                HorizontalOptions="FillAndExpand"
                VerticalOptions="FillAndExpand">
                <Border.GestureRecognizers>
                    <TapGestureRecognizer Command="{Binding ChangeForFirstTabCommand}" />
                </Border.GestureRecognizers>
                <Grid 
                        HorizontalOptions="CenterAndExpand"
                        VerticalOptions="FillAndExpand">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    <Label x:Name="FirstTabLabel" Grid.Column="0"
                        HorizontalOptions="Center"
                        VerticalOptions="Center"
                        TranslationY="1"
                        Text="{Binding FirstTabText}"
                        FontSize="16"
                        FontFamily="{Binding FirstTabLabelFontFamily}"
                        TextColor="{Binding FirstTabLabelTextColor}"/>
                    <Border Grid.Column="1"
                        IsVisible="{Binding FirstTabHasCount}"
                        Margin="0, 0, 4, 0"
                        TranslationX="3"
                        TranslationY="5"
                        HeightRequest="16"
                        VerticalOptions="Start"
                        BackgroundColor="{Binding FirstTabBadgeBackgroundColor}"
                        StrokeThickness="0"
                        StrokeShape="RoundRectangle 50">
                        <Grid
                            Padding="5, 0"
                            HorizontalOptions="Center"
                            VerticalOptions="Center"
                            BackgroundColor="{Binding FirstTabBadgeBackgroundColor}" >
                            <Label
                                Text="{Binding FirstTabCount}"
                                TextColor="{Binding FirstTabBadgeTextColor}"
                                FontFamily="PoppinsSemiBold"
                                FontSize="10"/>
                        </Grid>
                    </Border>
                </Grid>
            </Border>

            <BoxView Grid.Column="1"
                WidthRequest="1"
                VerticalOptions="FillAndExpand"
                Margin="10, 0"
                BackgroundColor="{StaticResource Tertiary}"/>

            <Border x:Name="SecondTabBorder"
                Grid.Column="2"
                StrokeShape="RoundRectangle 6"
                StrokeThickness="0"
                Padding="12, 0"
                BackgroundColor="{Binding SecondTabBorderBackgroundColor}"
                HorizontalOptions="FillAndExpand"
                VerticalOptions="FillAndExpand">
                <Border.GestureRecognizers>
                    <TapGestureRecognizer Command="{Binding ChangeForSecondTabCommand}" />
                </Border.GestureRecognizers>
                <Grid 
                    HorizontalOptions="CenterAndExpand"
                    VerticalOptions="FillAndExpand">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    <Label Grid.Column="0"
                        HorizontalOptions="Center"
                        VerticalOptions="Center"
                        TranslationY="1"
                        Text="{Binding SecondTabText}"
                        FontSize="16"
                        FontFamily="{Binding SecondTabLabelFontFamily}"
                        TextColor="{Binding SecondTabLabelTextColor}"/>
                    <Border Grid.Column="1"
                        IsVisible="{Binding SecondTabHasCount}"
                        Margin="0, 0, 4, 0"
                        TranslationX="2"
                        TranslationY="5"
                        HeightRequest="16"
                        VerticalOptions="Start"
                        BackgroundColor="{Binding SecondTabBadgeBackgroundColor}"
                        StrokeThickness="0"
                        StrokeShape="RoundRectangle 50">
                        <Grid
                            Padding="5, 0"
                            HorizontalOptions="Center"
                            VerticalOptions="Center"
                            BackgroundColor="{Binding SecondTabBadgeBackgroundColor}" >
                            <Label
                                Text="{Binding SecondTabCount}"
                                TextColor="{Binding SecondTabBadgeTextColor}"
                                FontFamily="PoppinsSemiBold"
                                FontSize="10"/>
                        </Grid>
                    </Border>
                </Grid>
            </Border>
            
        </Grid>
    </ContentView.Content>
</ContentView>